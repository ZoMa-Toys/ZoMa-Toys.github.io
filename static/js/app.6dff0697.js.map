{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/App.vue?2320","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/components/switchControl.vue?31bf","webpack:///src/components/switchControl.vue","webpack:///./src/components/switchControl.vue?e222","webpack:///./src/components/switchControl.vue?c9fb","webpack:///./src/components/train.vue?4fbd","webpack:///./src/components/controller.vue?aa69","webpack:///src/components/controller.vue","webpack:///./src/components/controller.vue?bd6b","webpack:///./src/components/controller.vue","webpack:///src/components/train.vue","webpack:///./src/components/train.vue?6b47","webpack:///./src/components/train.vue","webpack:///./src/components/Login.vue?9042","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?c847","webpack:///./src/components/Login.vue?3ca4","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/components/Login.vue?ace9","webpack:///./src/components/switchControl.vue?0df2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","logout","_v","_e","setAuthenticated","staticStyle","_s","currentVersion","staticRenderFns","component","staticClass","model","callback","$$v","rows","expression","columns","createTable","rotatetable","sendAction","pairCardsSwitches","currentConfName","_l","item","goto","dontDrop","style","color","drag","rotateImage","printed","index","_m","getKeyByValue","keys","find","setWs","apihost","connection","onmessage","dataModFunction","JSON","parse","onopen","console","log","switchPairs","cardPairs","allConfNames","conf","conf_str","motor_witch","card_witch","idmap","printed_list","Original","Printed","types","left","right","location","hostname","created","mounted","val","stringify","methods","connectWs","readyState","OPEN","updateConf","getSwitchPairs","onMessage","Status","Message","cardhPairs","swid","switch","switched","pulse","img","src","getNow","payload","config","send","changeDirection","to","includes","current","replace","jsonstring","event","preventDefault","rotation","parseInt","el","transform","ev","dataTransfer","setData","target","id","drop","copyimg","document","createElement","original","getElementById","parentElement","width","height","backgroundColor","position","top","appendChild","innerHTML","childElementCount","removeChild","childNodes","rowSpan","colSpan","insertOne","addEventListener","allowDrop","assignCardToSwitch","dragAway","RemoveOne","split","td","addCellWithExtra","todel","remove","classList","add","tbl","switchImg","sendToBE","sw","forEach","$router","newID","tmp","neighbours","setNeighbours","matrix","type","typeconf","unshift","pop","getnextSwitch","origin","port","mvalue","switchpairs","switchpair","consoleLog","toLog","NumberOfRemotes","NumberOfHubs","train","NAME","hubs","Colors","setPower","changeSpeed","changeLight","traincolor","speed","newdistanceSlow","newdistance","$set","distanceSlow","colorSlow","ckey","domProps","distance","light","getInitialData","trains","ColorsOld","BLACK","PINK","PURPLE","BLUE","LIGHTBLUE","CYAN","GREEN","YELLOW","ORANGE","RED","WHITE","NONE","0","1","2","3","4","5","6","7","8","9","10","255","components","controller","watch","updateTrain","fillHubs","newspeed","newcolorSlow","newcolor","newlight","message","MotorPort","TRAIN_MOTOR","TrainName","ChangeValue","Math","max","min","login","arguments","input","Vue","use","Router","routes","path","swtich","BootstrapVue","IconsPlugin","VueNumberInput","router","render","h","App","$mount"],"mappings":"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","file":"js/app.6dff0697.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[(_vm.authenticated)?_c('router-link',{attrs:{\"to\":\"/\",\"replace\":\"\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"Logout\")]):_vm._e()],1),_c('router-view',{on:{\"authenticated\":_vm.setAuthenticated}}),_c('div',[_c('a',{staticStyle:{\"background-color\":\"white\"}},[_vm._v(\"Version: \"+_vm._s(_vm.currentVersion))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <router-link v-if=\"authenticated\" to=\"/\" v-on:click=\"logout()\" replace>Logout</router-link>\n    </div>\n    <router-view @authenticated=\"setAuthenticated\"/>\n  <div>\n    <a style=\"background-color: white\">Version: {{ currentVersion }}</a>\n  </div>\n  </div>\n</template>\n\n<style>\n#app {\n  max-width: 900px;\n  min-width: 315px;\n  margin: auto;\n  margin-top: 5%;\n}\n</style>\n\n<script>\n  export default {\n    name: 'App',\n    data() {\n      return {\n        currentVersion: process.env.VUE_APP_VERSION,\n        authenticated: false,\n      }\n    },\n    mounted() {\n      if(!this.authenticated) {\n        this.$router.replace({ name: \"login\" }).catch(err => {console.log(err)});\n      }\n      if(!this.currentVersion){\n        this.currentVersion = \"devVersion\"\n      }\n    },\n    methods: {\n      setAuthenticated(status) {\n        this.authenticated = status;\n      },\n      logout() {\n        this.authenticated = false;\n      }\n    }\n  }\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6963351f&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-lg p-3 mb-5 rounded\",staticStyle:{\"background-color\":\"#f1f1f1\"},attrs:{\"id\":\"switchControl\"}},[_c('div',{staticClass:\"row shadow p-3 mb-5 rounded\"},[_c('number-input',{attrs:{\"min\":2,\"max\":99,\"controls\":\"\"},model:{value:(_vm.rows),callback:function ($$v) {_vm.rows=$$v},expression:\"rows\"}}),_c('number-input',{attrs:{\"min\":2,\"max\":99,\"controls\":\"\"},model:{value:(_vm.columns),callback:function ($$v) {_vm.columns=$$v},expression:\"columns\"}}),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.createTable}},[_vm._v(\"SetTable\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.rotatetable}},[_vm._v(\"RotateTable\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.sendAction('SetThresHolds')}}},[_vm._v(\"ReconfigureSensors\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.pairCardsSwitches}},[_vm._v(\"pairCardsSwitches\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.sendAction('setConfig')}}},[_vm._v(\"SaveThisConfig\")]),_c('b-form-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.currentConfName),callback:function ($$v) {_vm.currentConfName=$$v},expression:\"currentConfName\"}},_vm._l((_vm.allConfNames),function(item){return _c('option',{key:item},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.sendAction('getConfByName')}}},[_vm._v(\"GetThisConfig\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.sendAction('delConfByName')}}},[_vm._v(\"DelThisConfig\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.goto('Train')}}},[_vm._v(\"TrainControl\")])],1),_c('div',{staticClass:\"shadow p-3 mb-5 rounded\",on:{\"drop\":_vm.dontDrop,\"dragover\":_vm.dontDrop}},[_c('table',[_c('tr',[_c('td',{style:('border: 1px solid black;width:100px; height=100px; background-color:'+_vm.color),attrs:{\"rowspan\":\"2\"}},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"104\",\"height\":\"104\",\"id\":\"leftSwitchStraight\",\"src\":\"leftSwitchStraight.png\"},on:{\"dragstart\":_vm.drag,\"click\":function($event){return _vm.rotateImage('leftSwitchStraight')}}})]),_c('td',{style:('border: 1px solid black;width:100px; height=100px; background-color:'+_vm.color),attrs:{\"rowspan\":\"2\"}},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"104\",\"height\":\"104\",\"id\":\"rightSwitchStraight\",\"src\":\"rightSwitchStraight.png\"},on:{\"dragstart\":_vm.drag,\"click\":function($event){return _vm.rotateImage('rightSwitchStraight')}}})]),_c('td',{attrs:{\"colspan\":\"4\"}},[_c('b-form-select',{model:{value:(_vm.printed),callback:function ($$v) {_vm.printed=$$v},expression:\"printed\"}},_vm._l((_vm.printed_list),function(item,key,index){return _c('option',{key:index},[_vm._v(\" \"+_vm._s(key)+\" \")])}),0),_c('b-form-input',{attrs:{\"type\":\"color\"},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)]),_c('tr',[_c('td',{style:('border: 1px solid black; width:50px; height=50px; background-color:'+_vm.color)},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"50\",\"height\":\"50\",\"id\":\"curve\",\"src\":\"curve.png\"},on:{\"dragstart\":_vm.drag,\"click\":function($event){return _vm.rotateImage('curve')}}})]),_c('td',{style:('border: 1px solid black; width:50px; height=50px; background-color:'+_vm.color)},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"50\",\"height\":\"50\",\"id\":\"Straight\",\"src\":\"Straight.png\"},on:{\"dragstart\":_vm.drag,\"click\":function($event){return _vm.rotateImage('Straight')}}})]),_c('td',{style:('border: 1px solid black; width:50px; height=50px; background-color:'+_vm.color)},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"50\",\"height\":\"50\",\"id\":\"cross\",\"src\":\"cross.png\"},on:{\"dragstart\":_vm.drag,\"click\":function($event){return _vm.rotateImage('cross')}}})]),_c('td',{style:('border: 1px solid black; width:50px; height=50px; background-color:'+_vm.color)},[_c('img',{attrs:{\"draggable\":\"true\",\"width\":\"50\",\"height\":\"50\",\"id\":\"card\",\"src\":\"card.png\"},on:{\"dragstart\":_vm.drag}})])])])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow p-3 mb-5 rounded\"},[_c('table',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"auto\"},attrs:{\"id\":\"table\"}})])}]\n\nexport { render, staticRenderFns }","\n<template>\n  <div\n    id=\"switchControl\"\n    class=\"shadow-lg p-3 mb-5 rounded\"\n    style=\"background-color: #f1f1f1\"\n  >\n    <div class=\"row shadow p-3 mb-5 rounded\">\n      <number-input\n                  :min=\"2\"\n                  :max=\"99\"\n                  controls\n                  v-model=\"rows\"\n                ></number-input>\n        <number-input\n          :min=\"2\"\n          :max=\"99\"\n          controls\n          v-model=\"columns\"\n        ></number-input>\n      <b-button @click=\"createTable\" variant=\"primary\">SetTable</b-button>\n      <b-button @click=\"rotatetable\" variant=\"outline-primary\">RotateTable</b-button>\n      <b-button @click=\"sendAction('SetThresHolds')\" variant=\"outline-primary\">ReconfigureSensors</b-button>\n      <b-button @click=\"pairCardsSwitches\" variant=\"outline-primary\">pairCardsSwitches</b-button>\n      <b-button @click=\"sendAction('setConfig')\" variant=\"outline-primary\">SaveThisConfig</b-button> \n      <b-form-select v-model=\"currentConfName\" style=\"width:200px\">\n        <option v-for=\"item in allConfNames\" :key=\"item\">\n          {{ item }}\n        </option>\n      </b-form-select>     \n      <b-button @click=\"sendAction('getConfByName')\" variant=\"outline-primary\">GetThisConfig</b-button> \n      <b-button @click=\"sendAction('delConfByName')\" variant=\"danger\">DelThisConfig</b-button> \n      <!-- <b-button @click=\"sendAction('getDefaultConfig')\" variant=\"outline-primary\">GetDefaultConfig</b-button> -->\n      <!-- <b-button @click=\"consoleLog\" variant=\"outline-primary\">TEST</b-button> -->\n<!--       <b-button @click=\"getSwitchPairs\" variant=\"outline-primary\">getSwitchPairs</b-button-->\n      <b-button @click=\"goto('Train')\" variant=\"outline-primary\">TrainControl</b-button>\n    </div>\n    <div class=\"shadow p-3 mb-5 rounded\" @drop=\"dontDrop\" @dragover=\"dontDrop\" >\n      <table>\n        <tr>\n        <td rowspan=2 :style=\"'border: 1px solid black;width:100px; height=100px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"104\" height=\"104\"  @click=\"rotateImage('leftSwitchStraight')\" id=\"leftSwitchStraight\" src=\"leftSwitchStraight.png\"   ></td>\n        <td rowspan=2 :style=\"'border: 1px solid black;width:100px; height=100px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"104\" height=\"104\"  @click=\"rotateImage('rightSwitchStraight')\" id=\"rightSwitchStraight\" src=\"rightSwitchStraight.png\"></td>\n        <td colspan=4>\n          <b-form-select v-model=\"printed\">\n            <option v-for=\"(item, key, index) in printed_list\" :key=\"index\">\n              {{ key }}\n            </option>\n          </b-form-select>\n          <b-form-input type=\"color\"  v-model=\"color\"></b-form-input>\n        </td>\n        </tr><tr>\n        <td :style=\"'border: 1px solid black; width:50px; height=50px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"50\" height=\"50\"  @click=\"rotateImage('curve')\" id=\"curve\" src=\"curve.png\"></td>\n        <td :style=\"'border: 1px solid black; width:50px; height=50px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"50\" height=\"50\"  @click=\"rotateImage('Straight')\" id=\"Straight\" src=\"Straight.png\"></td>\n        <td :style=\"'border: 1px solid black; width:50px; height=50px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"50\" height=\"50\"  @click=\"rotateImage('cross')\" id=\"cross\" src=\"cross.png\"></td>\n        <td :style=\"'border: 1px solid black; width:50px; height=50px; background-color:'+color\"><img draggable=\"true\" @dragstart=\"drag\" width=\"50\" height=\"50\"  id=\"card\" src=\"card.png\"></td>\n        </tr>\n      </table>\n    </div>\n      <div class=\"shadow p-3 mb-5 rounded\">\n        <table style=\"margin-left: auto; margin-right: auto;\" id=\"table\"></table>\n      </div>\n<!--       <div class=\"shadow p-3 mb-5 rounded\">\n        <b-form-textarea id=\"tackConf\" v-model=\"conf_str\"></b-form-textarea>\n      </div> -->\n  </div>\n</template>\n\n<script>\nfunction getKeyByValue(object, value) {\n  return Object.keys(object).find(key => object[key] === value);\n}\nfunction setWs(apihost,dataModFunction,sendAction){\n  const connection = new WebSocket(apihost);\n\n  connection.onmessage = ({data}) => {\n    dataModFunction(JSON.parse(data));\n  }\n\n  \n  connection.onopen = function() {\n    console.log(\"Successfully connected to the echo websocket server...\");\n    if(sendAction){\n      sendAction('getConfByName');\n      sendAction('getConfsList');\n    }\n  }\n  return connection\n}\n\nexport default {\n  name: \"trackControl\",\n  data() {\n    return { \n      rows:14,\n      columns:6,\n      switchPairs:{},\n      cardPairs:[],\n      currentConfName:\"Basic\",\n      allConfNames:[],\n      conf:{},\n      conf_str:\"\",\n      motor_witch:[],\n      card_witch:[],\n      idmap:{},\n      color:\"#d6ffec\",\n      printed_list: {\n        Original: false,\n        Printed: true,\n      },\n      printed: \"Original\",\n      types: {\n        left: {\n          Original: { Straight: 240, Turn: 420 },\n          Printed: { Straight: 280, Turn: 380 },\n        },\n        right: {\n          Original: { Straight: 420, Turn: 240 },\n          Printed: { Straight: 380, Turn: 280 },\n        },\n      },\n      //apihost: \"ws://\" + location.hostname +\":\" + process.env.VUE_APP_PORT +\"/switch\",\n      apihost: \"ws://\" + location.hostname +\":\" + process.env.VUE_APP_PORT +\"/ws\",\n/*       apihost: \"ws://89.132.204.38/switch\",\n      apihost: \"ws://89.132.204.38/train\", */\n    };\n  },\n  created: function() {\n   //this.connection=setWs(this.apihost,this.updateSwitch,null);\n    this.connection=setWs(this.apihost,this.onMessage,this.sendAction);\n  },\n  mounted() {\n    this.createTable();\n  },\n   watch: {\n    conf_str: function (val) {\n      this.conf = JSON.parse(val);\n      this.conf = {...this.conf}\n    },\n    conf: function (val) {\n      this.conf_str = JSON.stringify(val, null, 2);\n    },\n   },\n  methods:{\n    connectWs(){ \n/*       if (this.connection.readyState != this.connection.OPEN ){\n        this.connection=setWs(this.apihost,this.updateSwitch,null);\n      } */\n      if (this.connection.readyState != this.connection.OPEN ){\n        this.connection=setWs(this.apihost,this.onMessage,null);\n      }\n    },\n    updateConf() {\n      for(let key in this.conf){\n        let item = this.conf[key];\n        let td = document.getElementById(key);\n        this.idmap[key]=key\n        for (let i of item.img){\n          let img = document.createElement(\"img\")\n          td.appendChild(img)\n          img.style.backgroundColor = i.bgcolor;\n          img.id = i.id\n          img.src = i.src\n          img.width = i.width\n          img.height = i.height\n          if (i.id.includes(\"card\")){\n            img.style.position= i.position;\n            img.style.top= i.top;\n            img.style.right= i.right;\n            this.card_witch[i.index]=key;\n            let p = document.createElement(\"p\");\n            p.innerHTML = i.index;\n            p.style.right= \"20px\";\n            p.style.top = \"2px\";\n            p.style.position= \"absolute\";\n            td.appendChild(p);\n          }\n          else{\n            img.style.transform = i.transform\n            if (i.data.includes(\"Switch\")){\n              td.innerHTML+=\"<p>Switch \" + item.switch.index + \"</p>\";\n              this.motor_witch[item.switch.index]=key;\n              const index=key.split(\",\");\n              const r = parseInt(index[0]);\n              const c = parseInt(index[1]);\n              td.rowSpan=2;\n              td.colSpan=2;\n              document.getElementById(r+\",\"+(c+1)).remove();\n              document.getElementById((r+1)+\",\"+c).remove();\n              document.getElementById((r+1)+\",\"+(c+1)).remove();\n              this.idmap[r+\",\"+(c+1)]=key\n              this.idmap[(r+1)+\",\"+c]=key\n              this.idmap[(r+1)+\",\"+(c+1)]=key\n              td.addEventListener(\"click\",this.switchImg);\n            }\n          }\n        }\n      }\n      this.getSwitchPairs();\n      this.pairCardsSwitches();\n    },\n    onMessage(data) {\n      if (\"Status\" in data){\n        if (data.Status === 'TrackConfig:'){\n          this.rows = data.Message.rows;\n          this.columns = data.Message.columns;\n          this.createTable();\n          this.conf = data.Message.conf;\n          this.switchPairs = data.Message.switchPairs;\n          this.cardPairs = data.Message.cardhPairs;\n          this.updateConf();\n          //this.getSwitchPairs();\n        }\n        else if (data.Status === 'swtiched'){\n          let swid= this.motor_witch[data.Message.motor]\n          if(swid !== undefined){\n            this.conf[swid].switch.switched = getKeyByValue(this.conf[swid].switch.pulse,data.Message.pulse);\n            let img = document.getElementById(swid).firstElementChild \n            img.src=this.changeDirection(img.src,this.conf[swid].switch.switched)\n            this.conf[swid].img[0].src=this.changeDirection(this.conf[swid].img[0].src,this.conf[swid].switch.switched)\n          }\n        }\n        else if (data.Status === 'ConfList:'){\n          this.allConfNames = data.Message;\n          //this.getSwitchPairs();\n        }\n      }\n    },\n    getNow() {\n        const today = new Date();\n        const date = today.getFullYear()+'_'+(today.getMonth()+1)+'_'+today.getDate();\n        const time = today.getHours() + \"_\" + today.getMinutes() + \"_\" + today.getSeconds();\n        const dateTime = date +'_'+ time;\n        return dateTime;\n    },\n    sendAction(s) {\n      const payload = { \"action\":s,\"config\":{}, \"name\": this.getNow()};\n      if (s === \"setConfig\"){\n        payload.config={\"conf\":this.conf,\"rows\":this.rows,\"columns\":this.columns,\"switchPairs\":this.switchPairs,\"cardPairs\":this.cardPairs};\n      }\n      else if (s === \"getConfByName\" || s === \"delConfByName\"){\n        payload.name = this.currentConfName;\n      }\n      this.connectWs();\n      this.connection.send(JSON.stringify(payload));\n    },\n    changeDirection(current,to){\n      if (to.includes(\"Turn\")){\n        return current.replace(\"Straight\",\"Turn\")\n      }\n      else{\n        return current.replace(\"Turn\",\"Straight\")\n      }\n    },\n    jsonstring(){\n      return JSON.stringify(this.conf,null,2)\n    },\n    dontDrop(event){\n      event.preventDefault();\n    },\n    rotateImage(id) {\n      const el = document.getElementById(id);\n      var rotation = ((parseInt(el.style.transform.replace(\"rotate(\",\"\").replace(\"deg)\",\"\")) || 0) +90) %360\n        el.style.transform = \"rotate(\" + rotation + \"deg)\"\n    },\n    drag(ev) {\n      ev.dataTransfer.setData(\"text\", ev.target.id);\n      //ev.dataTransfer.effectAllowed = \"copy\";\n    },\n    drop(ev){\n      ev.preventDefault();\n      let data = ev.dataTransfer.getData(\"text\");\n      if (!data.includes(\"png\")){\n        var copyimg = document.createElement(\"img\");\n        var original = document.getElementById(data);\n        copyimg.src = original.src;\n        if (data==\"card\" && ev.target.tagName==\"IMG\"){\n          copyimg.id = data + \" - address:\" + ev.target.parentElement.id;\n          copyimg.width = original.width*3/8;\n          copyimg.height = original.height*3/8;\n          copyimg.style.backgroundColor=this.color;\n          copyimg.style.position= \"absolute\";\n          copyimg.style.top= 0;\n          copyimg.style.right= 0;\n          this.card_witch.push(ev.target.parentElement.id);\n          ev.target.parentElement.appendChild(copyimg);\n          let p = document.createElement(\"p\");\n          p.innerHTML = this.card_witch.length-1;\n          p.style.right= \"20px\";\n          p.style.top = \"2px\";\n          p.style.position= \"absolute\";\n          ev.target.parentElement.appendChild(p);\n          this.conf[ev.target.parentElement.id].img.push({\"index\":this.card_witch.length-1 ,data,\"src\":original.src,\"width\":copyimg.width,\"height\":copyimg.height,\"bgcolor\":this.color,\"id\":data + \" - address:\" + ev.target.id,\"position\":copyimg.style.position,\"top\":copyimg.style.top,\"right\":copyimg.style.right});\n        }\n        else{\n          const index=ev.target.id.split(\",\");\n          const r = parseInt(index[0]);\n          const c = parseInt(index[1]);\n          copyimg.id = data + \" - address:\" + ev.target.id;\n          copyimg.style.transform = original.style.transform;\n          copyimg.width = original.width*3/4;\n          copyimg.height = original.height*3/4;\n          copyimg.style.backgroundColor=this.color;\n          if (ev.target.childElementCount){\n            ev.target.removeChild(ev.target.childNodes[0]);\n          }\n          this.idmap[ev.target.id]=ev.target.id;\n          this.conf[ev.target.id]={\"img\":[{data,\"src\":original.src,\"transform\":original.style.transform,\"width\":copyimg.width,\"height\":copyimg.height,\"bgcolor\":this.color,\"id\":data + \" - address:\" + ev.target.id}],\"neighbours\":this.setNeighbours(ev.target.id,original.id,original.style.transform)};\n         if (data.includes(\"Switch\")){\n            ev.target.rowSpan=2;\n            ev.target.colSpan=2;\n            this.idmap[r+\",\"+(c+1)]=ev.target.id;\n            this.idmap[(r+1)+\",\"+c]=ev.target.id;\n            this.idmap[(r+1)+\",\"+(c+1)]=ev.target.id;\n            this.insertOne(data,ev.target.id);\n            ev.target.innerHTML+= \"<p>Switch \"+ this.conf[ev.target.id].switch.index + \"</p>\";\n            document.getElementById(r+\",\"+(c+1)).remove();\n            document.getElementById((r+1)+\",\"+c).remove();\n            document.getElementById((r+1)+\",\"+(c+1)).remove();\n            copyimg.addEventListener(\"click\",this.switchImg);\n            //document.addEventListener(\"click\",this.switchImg);\n          } \n          ev.target.appendChild(copyimg);\n          this.getSwitchPairs();\n          this.pairCardsSwitches();\n        }\n      }\n    },\n    allowDrop(ev) {\n      ev.preventDefault();\n    },\n    assignCardToSwitch(){\n\n    },\n    dragAway(ev){\n      if(ev.dataTransfer.dropEffect !== 'none'){\n        let td = ev.target.parentElement;\n        if(td.getElementsByTagName(\"p\").length>0) {td.getElementsByTagName(\"p\")[0].remove();}\n        if (ev.target.id.includes(\"Switch\")){\n          this.RemoveOne(ev.target.id.split(\":\")[1]);\n          const index=td.id.split(\",\");\n          const r = parseInt(index[0]);\n          const c = parseInt(index[1]);\n          td.innerHTML =\"\";\n          td.rowSpan=1;\n          td.colSpan=1;\n          this.addCellWithExtra(td.parentElement,c+1,r+\",\"+(c+1))\n          this.addCellWithExtra(td.parentElement.parentElement.rows[r+1],c,(r+1)+\",\"+c)\n          this.addCellWithExtra(td.parentElement.parentElement.rows[r+1],c+1,(r+1)+\",\"+(c+1))\n        }\n        else if (ev.target.id.includes(\"card\")){\n          const todel = this.card_witch.indexOf(ev.target.id.split(\":\")[1]);\n          this.card_witch.splice(todel, 1);\n          //this.card_witch.forEach((element, index) => {this.conf[element].switch.index = index})\n        }\n        ev.target.remove();\n        delete this.conf[td.id];\n        let tmp = {...this.conf};\n        this.createTable();\n        this.conf={...tmp};\n        this.updateConf();\n      }\n    },\n    addCellWithExtra(el,col,id){\n      let td = el.insertCell(col);\n      td.id=id;\n      td.classList.add(\"tdclass\");\n      td.style+=\"width: 37px; height: 37px;border: 1px solid black;\"\n      td.addEventListener('drop',this.drop)\n      td.addEventListener('dragover',this.allowDrop)\n      td.addEventListener('dragend',this.dragAway)\n    },\n    createTable(){\n      this.idmap={};\n      this.conf={};\n      this.motor_witch=[];\n      this.card_witch=[];\n      this.cardPairs=[];\n      let tbl = document.getElementById('table');\n      tbl.innerHTML=\"\";\n      for(let i=0;i<this.rows;i++){\n        const tr = tbl.insertRow();\n        for(let j=0;j<this.columns;j++){\n          let td = tr.insertCell();\n          let id = i+\",\"+j;\n          td.id =id;\n          td.classList.add(\"tdclass\");\n          td.style=\"width: 37px; height: 37px;border: 1px solid black;\"\n          td.addEventListener('drop',this.drop)\n          td.addEventListener('dragover',this.allowDrop)\n          td.addEventListener('dragend',this.dragAway)\n        }\n      }\n    },\n    switchImg(ev){\n      let td=ev.target;\n\n      this.sendToBE(td.id.split(\":\")[1])\n    },\n    sendToBE(s) {\n      let sw = {...this.conf[s].switch};\n      if (sw.switched == \"Straight\") {\n        sw.switched = \"Turn\";\n      } else {\n        sw.switched = \"Straight\";\n      }\n      const pulse = sw.pulse[sw.switched];\n      const printed = this.printed_list[sw.printed];\n      const payload = JSON.stringify({\"action\":\"swtichMotor\",\"message\":{ motor: sw.index, pulse: pulse, printed }});\n      this.connectWs();\n      this.connection.send(payload);\n    },\n    insertOne(data,id) {\n      this.motor_witch.push(id);\n      this.conf[id][\"switch\"]={\n          index: this.motor_witch.length-1,\n          type: data.includes(\"left\")?\"left\":\"right\",\n          pulse: this.types[data.includes(\"left\")?\"left\":\"right\"][this.printed],\n          switched: data.includes(\"Turn\")?\"Turn\":\"Straight\",\n          printed: this.printed,\n      };\n    },\n    RemoveOne(id) {\n      const todel = this.motor_witch.indexOf(id);\n      this.motor_witch.splice(todel, 1);\n      this.motor_witch.forEach((element, index) => {this.conf[element].switch.index = index})\n      //delete this.conf[id].switch;\n    },\n    goto(page){\n      this.$router.replace({ name: page });\n    },\n    rotatetable(){\n      let tmp = {}\n      this.idmap={}\n      for(let key in this.conf){\n        const index=key.split(\",\");\n        const c = this.rows - parseInt(index[0])-1;\n        const r = parseInt(index[1]);\n        let rotation = ((parseInt(this.conf[key].img[0].transform.replace(\"rotate(\",\"\").replace(\"deg)\",\"\")) || 0) +90) %360\n        let newID;\n        if (this.conf[key].img[0].data.includes(\"Switch\")){\n          newID=r+\",\"+(c-1);\n          this.idmap[newID]=newID;\n          this.idmap[r+\",\"+(c)]=newID;\n          this.idmap[(r+1)+\",\"+(c-1)]=newID;\n          this.idmap[(r+1)+\",\"+(c)]=newID;\n        }\n        else{\n          newID=r+\",\"+c;\n        }\n        this.idmap[newID]=newID;\n\n        tmp[newID]=this.conf[key];\n        tmp[newID].img[0].transform = \"rotate(\" + rotation + \"deg)\"\n        tmp[newID].img[0].id=tmp[newID].img[0].id.replace(key,newID)\n        tmp[newID].neighbours=this.setNeighbours(newID,tmp[newID].img[0].id.split(\" \")[0],tmp[newID].img[0].transform)\n      }\n      let r = this.rows\n      this.rows= this.columns\n      this.columns=r\n      this.createTable();\n      this.conf = tmp;\n      this.updateConf();\n    },\n    setNeighbours(id,type,transform){\n      let index = id.split(\",\")\n      let typeconf={\n        \"leftSwitchStraight\":[null,null,\"t\",\"s\",null,null,\"i\",null],\n        \"rightSwitchStraight\":[null,null,null,\"i\",null,null,\"s\",\"t\"],\n        \"Straight\":[null,\"i\",null,\"o\"],\n        \"curve\":[null,\"i\",\"o\",null],\n        \"cross\":[\"r\",\"i\",\"l\",null],\n      }\n      let swNeighboursMatrix=[[-1,0],[-1,1],[0,2],[1,2],[2,1],[2,0],[1,-1],[0,-1]]\n      let trNeighboursMatrix=[[-1,0],[0,1],[1,0],[0,-1]]\n      let matrix = []\n      let neighbours={}\n      if (type.includes(\"Switch\")){\n        matrix=swNeighboursMatrix\n      }\n      else{\n        matrix=trNeighboursMatrix\n      }\n      for (let i = 0 ;i<parseInt(transform.replace(\"rotate(\",\"\").replace(\"deg)\",\"\"))/90*typeconf[type].length/4;i++){\n        typeconf[type].unshift(typeconf[type].pop());\n      }\n      for (let i =0 ;i<typeconf[type].length;i++){\n        if (typeconf[type][i]!=null){\n          neighbours[typeconf[type][i]]=(matrix[i][0]+parseInt(index[0]))+\",\"+(matrix[i][1]+parseInt(index[1]))\n        }\n      }\n      return neighbours\n    },\n    getnextSwitch(id,prevID,origin,port){\n      if(Object.entries(this.conf,id) && id != undefined){\n        for (const item of Object.entries(this.conf[id].neighbours)) {\n          let mvalue =this.idmap[item[1]]\n          if(mvalue != prevID && mvalue != id && Object.prototype.hasOwnProperty.call(this.conf, mvalue)){\n            if(!this.motor_witch.includes(mvalue)){\n              this.getnextSwitch(mvalue,id,origin,port)\n            }\n            else{\n              this.switchPairs[origin][port].push([getKeyByValue(this.conf[mvalue].neighbours,id),mvalue])\n            }\n          }\n        }\n      }\n      else{\n        this.switchPairs[origin][port]=[]\n      }\n    },\n    getSwitchPairs(){\n      this.switchPairs={}\n      this.motor_witch.forEach(id => {\n        this.switchPairs[id]={};\n        [\"i\",\"s\",\"t\"].forEach(i => {\n          this.switchPairs[id][i]=[];\n          this.getnextSwitch(this.idmap[this.conf[id].neighbours[i]],id,id,i)\n        })\n      });\n    },\n    pairCardsSwitches(){\n      this.cardPairs=[];\n      for(const [id,portObj] of Object.entries(this.switchPairs)){\n        if(portObj!=\"\"){\n          this.conf[id][\"card_index\"]={};\n          for(const [port,switchpairs] of Object.entries(portObj)){\n            let SwitchNeighbourID = this.conf[id].neighbours[port];\n            let cardIndex = this.card_witch.indexOf(SwitchNeighbourID);\n            this.conf[id][\"card_index\"][port]=cardIndex;\n            this.cardPairs[cardIndex]=[];\n            switchpairs.forEach(switchpair => {\n              if (switchpair[1] in this.conf){\n                let SwitcPairhNeighbourID = this.conf[switchpair[1]].neighbours[switchpair[0]];\n                let pairCardIndex = this.card_witch.indexOf(SwitcPairhNeighbourID);\n                this.cardPairs[cardIndex].push([[port,id],pairCardIndex,switchpair]);\n              }\n            });\n          }\n        }\n      }\n    },\n    consoleLog(){\n      this.conf={...this.conf}\n      let toLog= {\"conf\":this.conf,\"rows\":this.rows,\"columns\":this.columns,\"switchPairs\":this.switchPairs,\"cardPairs\":this.cardPairs}\n      console.log(JSON.stringify(toLog,null,2))\n    }\n  }\n}\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\ntd {\n  position: relative;\n}\np {\n  position:absolute; \n  top:2px;\n  right:2px;\n  font-size:12px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switchControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switchControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./switchControl.vue?vue&type=template&id=a21f98d2&\"\nimport script from \"./switchControl.vue?vue&type=script&lang=js&\"\nexport * from \"./switchControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./switchControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-lg p-3 mb-5 rounded\",staticStyle:{\"background-color\":\"#f1f1f1\"},attrs:{\"id\":\"train\"}},[_c('table',[_c('tr',[_c('td',{staticStyle:{\"vertical-align\":\"top\"}},[_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',{staticClass:\"row\"},[_vm._v(\" Number of Hubs: \"),_c('number-input',{attrs:{\"min\":0,\"max\":8-_vm.NumberOfRemotes,\"controls\":\"\"},model:{value:(_vm.NumberOfHubs),callback:function ($$v) {_vm.NumberOfHubs=$$v},expression:\"NumberOfHubs\"}}),_vm._v(\" Number of Remotes: \"),_c('number-input',{attrs:{\"min\":0,\"max\":8-_vm.NumberOfHubs,\"controls\":\"\"},model:{value:(_vm.NumberOfRemotes),callback:function ($$v) {_vm.NumberOfRemotes=$$v},expression:\"NumberOfRemotes\"}}),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.sendAction('scan')}}},[_vm._v(\"startScan\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.sendAction('stop')}}},[_vm._v(\"stopScan\")]),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.sendAction('getHubs')}}},[_vm._v(\"getHubs\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.sendAction('disconnectHubs')}}},[_vm._v(\"disconnectAllHub\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.sendAction('resetCardMap')}}},[_vm._v(\"resetCardMap\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.goto('swtichControl')}}},[_vm._v(\"SwitchControl\")])],1)])]),_vm._l((_vm.trains),function(train){return _c('controller',{key:train.NAME,attrs:{\"train\":train,\"hubs\":_vm.hubs,\"Colors\":_vm.Colors,\"setPower\":_vm.setPower,\"changeSpeed\":_vm.changeSpeed,\"changeLight\":_vm.changeLight}})})],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{staticStyle:{\"max-width\":\"800\"}},[_c('div',{style:('text-align: center;border-style: solid; border-color:gray;position: relative;fontcolor:black; background: rgba('+ _vm.Colors[_vm.hubs[_vm.train.NAME].traincolor][1]+','+ _vm.Colors[_vm.hubs[_vm.train.NAME].traincolor][2]+','+_vm.Colors[_vm.hubs[_vm.train.NAME].traincolor][3]+',0.3)')},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.train.NAME))]),(_vm.train)?_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('b-row',{staticStyle:{\"margin\":\"auto\"},attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"auto\"}},[_c('label',[_vm._v(\" Speed: \")]),_c('h1',{staticStyle:{\"font-size\":\"6em\"}},[_vm._v(\" \"+_vm._s(_vm.hubs[_vm.train.NAME].speed))])]),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"plus-circle\"},on:{\"click\":function($event){return _vm.changeSpeed(_vm.train.NAME,10)}}}),_c('br'),_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"stop-circle\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.changeSpeed(_vm.train.NAME,0)}}}),_c('br'),_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"dash-circle\"},on:{\"click\":function($event){return _vm.changeSpeed(_vm.train.NAME,-10)}}})],1)]),('COLOR_DISTANCE_SENSOR' in _vm.train)?_c('div',{staticStyle:{\"margin-right\":\"0\",\"margin-left\":\"auto\"}},[_c('div',{staticStyle:{\"border-style\":\"solid\",\"border-color\":\"gray\"}},[_c('label',[_vm._v(\"Slow down if distance is less then: \"+_vm._s(_vm.hubs[_vm.train.NAME].newdistanceSlow)+\" \")]),_c('b-form-input',{attrs:{\"type\":\"range\",\"min\":_vm.hubs[_vm.train.NAME].newdistance,\"max\":\"260\",\"step\":\"10\"},on:{\"change\":function($event){return _vm.setPower(_vm.train.NAME,'distanceSlow')}},model:{value:(_vm.hubs[_vm.train.NAME].newdistanceSlow),callback:function ($$v) {_vm.$set(_vm.hubs[_vm.train.NAME], \"newdistanceSlow\", $$v)},expression:\"hubs[train.NAME].newdistanceSlow\"}}),_c('h5',[_vm._v(\"CurrentValue: \"+_vm._s(_vm.hubs[_vm.train.NAME].distanceSlow))]),_c('label',[_vm._v(\"Slow down if color is:\")]),_c('b-form-select',{style:((_vm.hubs[_vm.train.NAME].colorSlow === 255 ? '' : 'fontcolor:black; background: rgba('+ _vm.Colors[_vm.hubs[_vm.train.NAME].colorSlow][1]+','+ _vm.Colors[_vm.hubs[_vm.train.NAME].colorSlow][2]+','+_vm.Colors[_vm.hubs[_vm.train.NAME].colorSlow][3]+',0.6)')),on:{\"change\":function($event){return _vm.setPower(_vm.train.NAME,'colorSlow')}},model:{value:(_vm.hubs[_vm.train.NAME].newcolorSlow),callback:function ($$v) {_vm.$set(_vm.hubs[_vm.train.NAME], \"newcolorSlow\", $$v)},expression:\"hubs[train.NAME].newcolorSlow\"}},_vm._l((_vm.Colors),function(item,ckey){return _c('option',{key:ckey,domProps:{\"value\":parseInt(ckey)}},[_vm._v(\" \"+_vm._s(item[0])+\" \")])}),0)],1),_c('div',{staticStyle:{\"border-style\":\"solid\",\"border-color\":\"gray\"}},[_c('label',[_vm._v(\"Stop if distance is less then: \"+_vm._s(_vm.hubs[_vm.train.NAME].newdistance))]),_c('b-form-input',{attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"260\",\"step\":\"10\"},on:{\"change\":function($event){return _vm.setPower(_vm.train.NAME,'distance')}},model:{value:(_vm.hubs[_vm.train.NAME].newdistance),callback:function ($$v) {_vm.$set(_vm.hubs[_vm.train.NAME], \"newdistance\", $$v)},expression:\"hubs[train.NAME].newdistance\"}}),_c('h5',[_vm._v(\"CurrentValue: \"+_vm._s(_vm.hubs[_vm.train.NAME].distance))]),_c('label',[_vm._v(\"Stop if color is:\")]),_c('b-form-select',{style:((_vm.hubs[_vm.train.NAME].color === 255 ? '' : 'fontcolor:black; background: rgba('+ _vm.Colors[_vm.hubs[_vm.train.NAME].color][1]+','+ _vm.Colors[_vm.hubs[_vm.train.NAME].color][2]+','+_vm.Colors[_vm.hubs[_vm.train.NAME].color][3]+',0.5)')),on:{\"change\":function($event){return _vm.setPower(_vm.train.NAME,'color')}},model:{value:(_vm.hubs[_vm.train.NAME].newcolor),callback:function ($$v) {_vm.$set(_vm.hubs[_vm.train.NAME], \"newcolor\", $$v)},expression:\"hubs[train.NAME].newcolor\"}},_vm._l((_vm.Colors),function(item,ckey){return _c('option',{key:ckey,domProps:{\"value\":parseInt(ckey)}},[_vm._v(\" \"+_vm._s(item[0])+\" \")])}),0)],1)]):_vm._e(),('LIGHT' in _vm.train)?_c('b-row',{staticStyle:{\"margin-right\":\"0\",\"margin-left\":\"auto\"},attrs:{\"no-gutters\":\"\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"auto\"}},[_c('label',[_vm._v(\" Light: \")]),_c('h1',{staticStyle:{\"font-size\":\"6em\"}},[_vm._v(\" \"+_vm._s(_vm.hubs[_vm.train.NAME].light))])]),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"plus-circle\"},on:{\"click\":function($event){return _vm.changeLight(_vm.train.NAME,10)}}}),_c('br'),_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"stop-circle\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.changeLight(_vm.train.NAME,0)}}}),_c('br'),_c('b-icon',{staticStyle:{\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"icon\":\"dash-circle\"},on:{\"click\":function($event){return _vm.changeLight(_vm.train.NAME,-10)}}})],1)]):_vm._e()],1):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <tr>\n        <td style=\"max-width: 800\">\n            <div :style=\"'text-align: center;border-style: solid; border-color:gray;position: relative;fontcolor:black; background: rgba('+ Colors[hubs[train.NAME].traincolor][1]+','+ Colors[hubs[train.NAME].traincolor][2]+','+Colors[hubs[train.NAME].traincolor][3]+',0.3)'\">\n                <h1> {{ train.NAME }}</h1>\n                <b-row no-gutters v-if=\"train\">\n                    <b-row no-gutters style=\"margin:auto\"> \n                        <div style=\"text-align: center; margin:auto\">\n                            <label> Speed: </label>\n                            <h1 style=\"font-size:6em\"> {{ hubs[train.NAME].speed }}</h1>\n                        </div>\n                        <div style=\"margin-left:auto;\">\n                            <b-icon icon=\"plus-circle\" style=\"width: 120px; height: 120px;\" @click=\"changeSpeed(train.NAME,10)\"></b-icon>\n                            <br>\n                            <b-icon icon=\"stop-circle\" variant=\"danger\" style=\"width: 120px; height: 120px; \" @click=\"changeSpeed(train.NAME,0)\"></b-icon>\n                            <br>\n                            <b-icon icon=\"dash-circle\" style=\"width: 120px; height: 120px;\" @click=\"changeSpeed(train.NAME,-10)\"></b-icon>\n                        </div>\n                    </b-row>\n                    <div v-if=\"'COLOR_DISTANCE_SENSOR' in train\" style=\"margin-right:0;margin-left:auto\">\n                        <div style=\"border-style: solid; border-color:gray; \">\n                            <label>Slow down if distance is less then: {{ hubs[train.NAME].newdistanceSlow }} </label>\n                            <b-form-input type=\"range\" @change=\"setPower(train.NAME,'distanceSlow')\"\n                                :min=\"hubs[train.NAME].newdistance\"\n                                max=\"260\"\n                                step=\"10\"\n                                v-model=\"hubs[train.NAME].newdistanceSlow\">\n                            </b-form-input>\n                            <h5>CurrentValue: {{ hubs[train.NAME].distanceSlow }}</h5>\n                            <label>Slow down if color is:</label> \n                                <b-form-select @change=\"setPower(train.NAME,'colorSlow')\" :style=\"(hubs[train.NAME].colorSlow === 255 ? '' : 'fontcolor:black; background: rgba('+ Colors[hubs[train.NAME].colorSlow][1]+','+ Colors[hubs[train.NAME].colorSlow][2]+','+Colors[hubs[train.NAME].colorSlow][3]+',0.6)')\" v-model=\"hubs[train.NAME].newcolorSlow\">\n                                <option v-for=\"(item, ckey) in Colors\" :key=\"ckey\" :value=\"parseInt(ckey)\" > \n                                {{ item[0] }}\n                                </option>\n                            </b-form-select>\n                        </div>\n                        <div style=\"border-style: solid; border-color:gray; \"> \n                            <label>Stop if distance is less then: {{ hubs[train.NAME].newdistance }}</label>\n                            <b-form-input type=\"range\" @change=\"setPower(train.NAME,'distance')\"\n                            \n                                min=\"0\"\n                                max=\"260\"\n                                step=\"10\"\n                                v-model=\"hubs[train.NAME].newdistance\">\n                            </b-form-input>\n                            <h5>CurrentValue: {{ hubs[train.NAME].distance }}</h5>\n                            <label>Stop if color is:</label> \n                                <b-form-select @change=\"setPower(train.NAME,'color')\" :style=\"(hubs[train.NAME].color === 255 ? '' : 'fontcolor:black; background: rgba('+ Colors[hubs[train.NAME].color][1]+','+ Colors[hubs[train.NAME].color][2]+','+Colors[hubs[train.NAME].color][3]+',0.5)')\" v-model=\"hubs[train.NAME].newcolor\">\n                                <option v-for=\"(item, ckey) in Colors\" :key=\"ckey\" :value=\"parseInt(ckey)\" > \n                                {{ item[0] }}\n                                </option>\n                            </b-form-select>\n                        </div>\n                    </div>\n                    <b-row no-gutters v-if=\"'LIGHT' in train\" style=\"margin-right:0;margin-left:auto\">\n                        <div style=\"text-align: center; margin:auto\">\n                            <label> Light: </label>\n                            <h1 style=\"font-size:6em\"> {{ hubs[train.NAME].light }}</h1>\n                        </div>\n                        <div style=\"margin-left:auto;\">\n                            <b-icon icon=\"plus-circle\" style=\"width: 120px; height: 120px;\" @click=\"changeLight(train.NAME,10)\"></b-icon>\n                            <br>\n                            <b-icon icon=\"stop-circle\" variant=\"danger\" style=\"width: 120px; height: 120px; \" @click=\"changeLight(train.NAME,0)\"></b-icon>\n                            <br>\n                            <b-icon icon=\"dash-circle\" style=\"width: 120px; height: 120px;\" @click=\"changeLight(train.NAME,-10)\"></b-icon>\n                        </div>\n                    </b-row>\n                </b-row>\n            </div>\n        </td>\n    </tr>\n</template>\n\n<script>\nimport { BIcon } from 'bootstrap-vue'\nexport default {\n    components: {\n      BIcon // <- The icon needs to be registered with your page/app\n    },\n    props: [\n        'train', \n        'hubs',\n        'Colors',\n        'setPower',\n        'changeSpeed',\n        'changeLight',\n    ]\n\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./controller.vue?vue&type=template&id=4ca508ce&\"\nimport script from \"./controller.vue?vue&type=script&lang=js&\"\nexport * from \"./controller.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    id=\"train\"\n    class=\"shadow-lg p-3 mb-5 rounded\"\n    style=\"background-color: #f1f1f1\"\n  >\n    \n    <table>\n      <tr>\n        <td style=\"vertical-align: top\">\n          <tr>\n            <td colspan=\"4\">\n              <div class=\"row\">\n                Number of Hubs:\n                <number-input\n                  :min=\"0\"\n                  :max=\"8-NumberOfRemotes\"\n                  controls\n                  v-model=\"NumberOfHubs\"\n                ></number-input>\n                Number of Remotes:\n                <number-input\n                  :min=\"0\"\n                  :max=\"8-NumberOfHubs\"\n                  controls\n                  v-model=\"NumberOfRemotes\"\n                ></number-input>\n                <b-button @click=\"sendAction('scan')\" variant=\"outline-primary\">startScan</b-button>\n                <b-button @click=\"sendAction('stop')\" variant=\"danger\">stopScan</b-button>\n                <b-button @click=\"sendAction('getHubs')\" variant=\"primary\">getHubs</b-button>\n                <b-button @click=\"sendAction('disconnectHubs')\" variant=\"danger\">disconnectAllHub</b-button>\n                <b-button @click=\"sendAction('resetCardMap')\" variant=\"danger\">resetCardMap</b-button>\n                <b-button @click=\"goto('swtichControl')\" variant=\"outline-primary\">SwitchControl</b-button>\n              </div>\n            </td>\n          </tr>\n            <controller v-for=\"train in trains\" v-bind:key=\"train.NAME\" \n              v-bind:train=\"train\"\n              v-bind:hubs=\"hubs\"\n              v-bind:Colors=\"Colors\"\n              v-bind:setPower=\"setPower\"\n              v-bind:changeSpeed=\"changeSpeed\"\n              v-bind:changeLight=\"changeLight\">\n            </controller>\n        </td>\n      </tr>\n    </table>\n    \n  </div>\n</template>\n\n<script>\n\nfunction setWs(apihost,dataModFunction){\n  const connection = new WebSocket(apihost);\n  connection.onmessage = ({data}) => {\n    dataModFunction(JSON.parse(data));\n  }\n\n  \n  connection.onopen = function() {\n    console.log(\"Successfully connected to the echo websocket server...\");\n  }\n  return connection\n}\nfunction getInitialData() {\n  return {\n    connection: null,\n    apihost: \"ws://\" + location.hostname +\":\" + process.env.VUE_APP_PORT +\"/ws\",\n    trains: [{NAME:\"DUMMY\",TRAIN_MOTOR:0,COLOR_DISTANCE_SENSOR:1,LIGHT:2,traincolor:1},\n    ],\n    hubs: {\n      \"DUMMY\":{\n            speed: 0,\n            train: \"DUMMY\",\n            traincolor:1,\n            MotorPort: 0,\n            distanceSlow:0,\n            colorSlow: 255,\n            distance:0,\n            color: 255,\n            light: 0,\n            newdistanceSlow:0,\n            newcolorSlow: 255,\n            newdistance:0,\n            newcolor: 255,\n            newlight: 0,\n        },\n    },\n    NumberOfHubs: 1,\n    NumberOfRemotes: 1,\n    ColorsOld: {\n      BLACK: 0,\n      PINK: 1,\n      PURPLE: 2,\n      BLUE: 3,\n      LIGHTBLUE: 4,\n      CYAN: 5,\n      GREEN: 6,\n      YELLOW: 7,\n      ORANGE: 8,\n      RED: 9,\n      WHITE: 10,\n      NONE: 255\n    },\n    Colors:{\n      0:[\"BLACK\",0,0,0],\n      1:[\"PINK\",255,192,203],\n      2:[\"PURPLE\",128,0,128],\n      3:[\"BLUE\",0,0,255],\n      4:[\"LIGHTBLUE\",173,216,230],\n      5:[\"CYAN\",0,255,255],\n      6:[\"GREEN\",0,128,0],\n      7:[\"YELLOW\",255,255,0],\n      8:[\"ORANGE\",255,155,0],\n      9:[\"RED\",255,0,0],\n      10:[\"WHITE\",255,255,255],\n      255:[\"NONE\",255,255,255],   \n    }\n  };\n}\n\nimport controller from './controller.vue';\nexport default {\n  name: \"Train\",\n  data: function () {\n    return getInitialData();\n  },\n  components: {\n    controller,\n  },\n  watch: {\n  },\n  created: function() {\n    this.connection=setWs(this.apihost,this.updateTrain,null);\n  },\n  methods: {\n    connectWs(){ \n      if (this.connection.readyState != this.connection.OPEN ){\n        this.connection=setWs(this.apihost,this.updateTrain,null);\n      }\n    },\n    updateTrain(data) {\n      if (data.Status === 'Connected Hubs:'){\n        this.trains = data.Message;\n        this.fillHubs();\n      }\n      else if (data.Status === 'Setting Speed...'){\n        const t = data.Message;\n        if (\"speed\" in t) this.hubs[t.train].speed=t.speed;\n        if (\"speed\" in t) this.hubs[t.train].newspeed=t.speed;\n        if (\"distanceSlow\" in t) this.hubs[t.train].distanceSlow=t.distanceSlow;\n        if (\"distanceSlow\" in t) this.hubs[t.train].newdistanceSlow=t.distanceSlow;\n        if (\"colorSlow\" in t) this.hubs[t.train].colorSlow=t.colorSlow ;\n        if (\"colorSlow\" in t) this.hubs[t.train].newcolorSlow=t.colorSlow ;\n        if (\"distance\" in t) this.hubs[t.train].distance=t.distance;\n        if (\"distance\" in t) this.hubs[t.train].newdistance=t.distance;\n        if (\"color\" in t) this.hubs[t.train].color=t.color ;\n        if (\"color\" in t) this.hubs[t.train].newcolor=t.color ;\n        if (\"light\" in t) this.hubs[t.train].light=t.light ;\n        if (\"light\" in t) this.hubs[t.train].newlight=t.light ;\n        this.hubs = {...this.hubs};\n      }\n\n    },\n    sendAction(s) {\n      const payload = { \"action\":s };\n      if (s.includes(\"scan\")){\n        payload[\"NumberOfHubs\"]=this.NumberOfHubs;\n        payload[\"NumberOfRemotes\"]=this.NumberOfRemotes;\n      }\n      this.connectWs();\n      this.connection.send(JSON.stringify(payload));\n    },\n    setPower(h,key) {\n      const payload = {};\n      payload[\"action\"]=\"setPower\";\n      payload['message'] = {};\n      payload.message[\"train\"]=this.hubs[h].train;\n      payload.message[key]=this.hubs[h][\"new\"+key];\n      this.connectWs();\n      this.connection.send(JSON.stringify(payload));\n    },\n    fillHubs() { \n      this.hubs={};\n      this.trains.forEach(train => {\n        if (\"TRAIN_MOTOR\" in train){\n          this.hubs[train.NAME]= {\n            speed: 0,\n            train: train.NAME,\n            traincolor:train.traincolor,\n            MotorPort: train.TRAIN_MOTOR,\n            distanceSlow:0,\n            colorSlow: 255,\n            distance:0,\n            color: 255,\n            newdistanceSlow:0,\n            newcolorSlow: 255,\n            newdistance:0,\n            newcolor: 255,\n            light:0,\n            newlight:0};\n        }\n      });\n    },\n    goto(page){\n      this.$router.replace({ name: page });\n    },\n    changeSpeed(TrainName,ChangeValue){\n      if (ChangeValue===0){\n        this.hubs[TrainName].newspeed  =0;\n      }\n      else{\n        this.hubs[TrainName].newspeed = Math.max(Math.min(this.hubs[TrainName].speed + ChangeValue,100),-100);\n      }\n      this.setPower(TrainName,\"speed\");     \n    },\n    changeLight(TrainName,ChangeValue){\n      if (ChangeValue===0){\n        this.hubs[TrainName].newlight  =0;\n      }\n      else{\n        this.hubs[TrainName].newlight = Math.max(Math.min(this.hubs[TrainName].light + ChangeValue,100),-100);\n      }\n      this.setPower(TrainName,\"light\");     \n    }\n  },\n  \n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./train.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./train.vue?vue&type=template&id=42819e1c&\"\nimport script from \"./train.vue?vue&type=script&lang=js&\"\nexport * from \"./train.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-lg p-3 mb-5 rounded\",attrs:{\"id\":\"login\"}},[_c('h1',[_vm._v(\"Login\")]),_c('b-form',{staticClass:\"w-100\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Username\"},model:{value:(_vm.input.username),callback:function ($$v) {_vm.$set(_vm.input, \"username\", $$v)},expression:\"input.username\"}}),_c('b-form-input',{attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.input.password),callback:function ($$v) {_vm.$set(_vm.input, \"password\", $$v)},expression:\"input.password\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Login\")])],1),_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.message))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"shadow-lg p-3 mb-5 rounded\" id=\"login\">\n        <h1>Login</h1>\n        <b-form @submit.prevent=\"login\" class=\"w-100\">\n            <b-form-input type=\"text\" name=\"username\" v-model=\"input.username\" placeholder=\"Username\" />\n            <b-form-input type=\"password\" name=\"password\" v-model=\"input.password\" placeholder=\"Password\" />\n            <b-button type=\"submit\" variant=\"primary\">Login</b-button>\n        </b-form>\n        <div style=\"color: red\" >{{ message }}</div >\n    </div>\n</template>\n\n<script>\n    // import axios from 'axios';\n    export default {\n        name: 'Login',\n        data() {\n            return {\n                input: {\n                    username: \"\",\n                    password: \"\"\n                },\n                message: \"\",\n                 apihost: process.env.VUE_APP_APIHOST,\n            }\n        },\n        methods: {\n            login() {\n                if (process.env.VUE_APP_AUTO_LOGIN === 'True'){\n                    this.$emit(\"authenticated\", true);\n                    this.$router.replace({ name: \"swtichControl\" });\n                }\n                else if((this.input.username != \"\" && this.input.password != \"\")) {\n                    if (this.input.username === \"Familymember\" & this.input.password === \"WE4RTsdf!\"){\n                        this.$emit(\"authenticated\", true);\n                        this.$router.replace({ name: \"swtichControl\" });\n                    } else {\n                        this.message = \"The username and / or password is incorrect\";\n                        console.log(\"The username and / or password is incorrect\");\n                    }\n                } else {\n                    this.message = \"A username and password must be present\";\n                    console.log(\"A username and password must be present\");\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    #login {\n        width: 500px;\n        border: 1px solid #CCCCCC;\n        background-color: #FFFFFF;\n        margin: auto;\n        margin-top: 200px;\n        padding: 20px;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=afcf3372&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=afcf3372&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afcf3372\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Router from 'vue-router';\nimport swtich from './components/switchControl.vue';\nimport train from './components/train.vue';\nimport login from './components/Login.vue';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'login',\n      component: login,\n    },\n    {\n      path: '/swtichControl',\n      name: 'swtichControl',\n      component: swtich,\n    },\n    {\n      path: '/train',\n      name: 'Train',\n      component: train,\n    },\n  ],\n});\n","import 'bootstrap/dist/css/bootstrap.css';\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\nimport VueNumberInput from '@chenfengyuan/vue-number-input';\nimport Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\n\n// Import Bootstrap an BootstrapVue CSS files (order is important)\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue)\n// Optionally install the BootstrapVue icon components plugin\nVue.use(IconsPlugin)\n\nVue.component(VueNumberInput.name, VueNumberInput);\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app');","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=afcf3372&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switchControl.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}